<!--
  Generated template for the AddTreamentPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>
    <ion-navbar>
        <ion-title dir="rtl">הוסף טיפול חדש</ion-title>
    </ion-navbar>

</ion-header>

<ion-content padding>
    <ion-row class="logo-row">
        <ion-col (click)="startTreatmentWithServer()" class="text-center">
            <img class="recording " [ngClass]="[recording?'heartbit':'', 'second']"
                 src="http://backofficeapi.dev.hopon.co/logo.png"/>
        </ion-col>
    </ion-row>

    <div class="login-box" align="center">
        <form #clientForm="ngForm" #registerForm="ngForm" dir="rtl">
            <ion-row align="center">
                <ion-col align="center">
                    <ion-list inset align="center">
                        <ion-item align="center">
                            <ion-select [(ngModel)]="currentClient"
                                        name="category">
                                <ion-option *ngFor="let iClient of clients" [value]="iClient">
                                    {{iClient.name + " " + iClient.last_name}}
                                </ion-option>
                            </ion-select>

                            <ion-label *ngIf="currentClient">
                                {{currentClient.name + " " + currentClient.last_name}}
                            </ion-label>
                        </ion-item>
                        <ion-item align="center">
                            <ion-input type="text" placeholder="סיבת הטיפול" multiple="false"
                                       name="reasonOfTreatment" [(ngModel)]="treatmenttCredentials.reasonOfTreatment"
                                       align="center" required></ion-input>
                        </ion-item>
                        <ion-item align="center">
                            <textarea placeholder="סיכום הטיפול" name="message" rows="10" cols="60"
                                      [(ngModel)]="treatmenttCredentials.anamnesis"> </textarea>
                        </ion-item>
                    </ion-list>
                </ion-col>
            </ion-row>

            <ion-row>
                <ion-col class="signup-col">
                    <button ion-button class="submit-btn" type="submit" (click)="addTreament()"
                            [disabled]="!registerForm.form.valid">שמור טיפול נוכחי
                    </button>
                </ion-col>
            </ion-row>
        </form>
    </div>

    <p>
        <button (click)="startRecording()" class="buttton-start-recording"
                [disabled]="audioRecorder.state != AudioRecorderState.Ready">
            <ion-icon name="microphone"></ion-icon>
            Start recording
        </button>
    </p>
    <p>
        <button (click)="stopRecording()" class="buttton-stop-recording"
                [disabled]="audioRecorder.state != AudioRecorderState.Recording">
            <ion-icon name="mic-off"></ion-icon>
            Stop recording
        </button>
    </p>
    <p>
        <button ion-button (click)="showObj()">
            תראה תאובייקט
        </button>
    </p>
    {{audioRecorder.state}}

    <div ion-button (click)="startRecording()"> record</div>
    <div ion-button (click)="stopPlayback()">stop</div>

    <div ion-button (click)="startPlayback()">play</div>
    ----

    <br>
    <br>
    <br>
    <br>
    -----------------------------------------------------------------------------------
    <br>
    <div (click)="startWithWrite(vvv)" ion-button>
        writer
    </div>
    <input type="text" [(ngModel)]="vvv">
    {{vvv}}
    home:

    <input type="text" [(ngModel)]="home">

    <div (click)="startWithWriteExist()" ion-button>
        start writer with exist
    </div>
    <div (click)="stopWithWriteExist()" ion-button>
        stop writer with exist
    </div>

    <div (click)="playWithWriteExist()" ion-button>
        play writer with exist
    </div>

    <div (click)="stopWithWriteExist()" ion-button>
        stop writer with exist
    </div>

    <div (click)="sendToServer(true)" ion-button>
        send to server
    </div>
    <div (click)="sendToServer(false)" ion-button>
        send to server no path start
    </div>
    <p>
        <button ion-button (click)="showObjWriter()">
            תראה תאובייקט
        </button>
    </p>
    {{file.dataDirectory}}
    -------------------
    <br>

    <br>
    <div *ngIf="kk_ar">
        <div *ngFor="let item of kk_ar">
            <!--{{item.nativeURL}}-->
            <br>
            {{item.fullPath}}
        </div>
    </div>
    <br>

    {{kk}}

    <br>
    externalDataDirectory:
    <br>
    {{file.externalDataDirectory}}
    <br>
    applicationStorageDirectory:
    <br>

    {{file.applicationStorageDirectory}}

    <br>documentsDirectory <br>

    {{file.documentsDirectory}}

    <br>
    externalApplicationStorageDirectory<br>

    {{file.externalApplicationStorageDirectory}}
</ion-content>